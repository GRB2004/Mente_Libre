<!-- src/app/components/tecnica-detalle/tecnica-detalle.component.html -->

<div class="detalle-container">
  <header class="header">
    <div class="logo" (click)="volverInicio()">
      <img src="assets/logo.svg" alt="Mente Libre Logo">
    </div>
    <nav class="nav">
      <button class="nav-button" (click)="volverInicio()">Inicio</button>
      <button class="nav-button">Actividades</button>
    </nav>
  </header>

  <main class="main-content" *ngIf="tecnicaActual">
    <button class="btn-volver" (click)="volverResultados()">
      ← Volver a resultados
    </button>

    <h1 class="titulo-principal">Técnica para {{ tipo }}</h1>

    <div class="contenido-wrapper">
      <div class="texto-contenido">
        <p class="descripcion-larga">{{ tecnicaActual.detalles }}</p>
      </div>

      <div class="imagen-contenido">
        <svg viewBox="0 0 300 300" xmlns="http://www.w3.org/2000/svg">
          <!-- Cerebro grande -->
          <ellipse cx="150" cy="130" rx="90" ry="75" fill="#718096" opacity="0.8"/>

          <!-- Detalles del cerebro -->
          <path d="M 90 110 Q 105 90 120 110" fill="none" stroke="#4a5568" stroke-width="2.5"/>
          <path d="M 105 135 Q 120 115 135 135" fill="none" stroke="#4a5568" stroke-width="2.5"/>
          <path d="M 120 160 Q 135 140 150 160" fill="none" stroke="#4a5568" stroke-width="2.5"/>
          <path d="M 180 110 Q 165 90 150 110" fill="none" stroke="#4a5568" stroke-width="2.5"/>
          <path d="M 195 135 Q 180 115 165 135" fill="none" stroke="#4a5568" stroke-width="2.5"/>
          <path d="M 180 160 Q 165 140 150 160" fill="none" stroke="#4a5568" stroke-width="2.5"/>

          <!-- Bombilla más grande -->
          <circle cx="220" cy="75" r="25" fill="#4299e1" opacity="0.9"/>
          <path d="M 213 100 L 213 110 L 227 110 L 227 100" fill="#4299e1" opacity="0.7"/>
          <line x1="220" y1="110" x2="220" y2="117" stroke="#4299e1" stroke-width="2.5"/>
          <line x1="216" y1="117" x2="224" y2="117" stroke="#4299e1" stroke-width="2.5"/>

          <!-- Rayos de luz más visibles -->
          <line x1="200" y1="60" x2="192" y2="52" stroke="#4299e1" stroke-width="2.5" opacity="0.7"/>
          <line x1="207" y1="47" x2="207" y2="37" stroke="#4299e1" stroke-width="2.5" opacity="0.7"/>
          <line x1="233" y1="47" x2="233" y2="37" stroke="#4299e1" stroke-width="2.5" opacity="0.7"/>
          <line x1="240" y1="60" x2="248" y2="52" stroke="#4299e1" stroke-width="2.5" opacity="0.7"/>

          <!-- Pieza de puzzle más grande -->
          <path d="M 50 220 L 50 195 Q 50 188 57 188 Q 64 188 64 195 L 64 220 Q 64 227 71 227 Q 78 227 78 220 L 78 195 L 100 195 L 100 242 L 50 242 Z"
                fill="#4299e1" opacity="0.8"/>
        </svg>
      </div>
    </div>

    <div class="navegacion">
      <h3 class="tecnica-label">Técnica</h3>

      <div class="progress-dots">
        <div
          *ngFor="let tecnica of tecnicasTipo; let i = index"
          class="dot"
          [class.active]="i === indiceActual"
          [class.completed]="i < indiceActual"
          (click)="indiceActual = i; tecnicaActual = tecnicasTipo[i]">
        </div>
      </div>

      <div class="botones-nav">
        <button
          class="btn-nav"
          (click)="anterior()"
          [disabled]="indiceActual === 0">
          Atrás
        </button>
        <button
          class="btn-nav btn-siguiente"
          (click)="siguiente()"
          [disabled]="indiceActual === tecnicasTipo.length - 1">
          Siguiente
        </button>
      </div>
    </div>
  </main>
</div>
