<!-- src/app/components/tecnica-detalle/tecnica-detalle.component.html -->

<div class="detalle-container">
  <header class="header">
    <div class="logo" (click)="volverInicio()">
      <img src="assets/logo.png" alt="Mente Libre Logo">
    </div>
    <nav class="nav">
      <button class="nav-button" (click)="volverInicio()">Inicio</button>
    </nav>
  </header>

  <main class="main-content" *ngIf="tecnicaActual">
    <button class="btn-volver" (click)="volverResultados()">
      ‚Üê Volver a resultados
    </button>

    <h1 class="titulo-principal">{{ tecnicaActual.titulo }}</h1>

    <!-- Badge del estilo de aprendizaje -->
    <div class="estilo-badge-container">
      <span class="estilo-badge">Estilo {{ estilo }}</span>
    </div>

    <!-- Imagen de la t√©cnica (fuera de innerHTML para aplicar estilos y fullscreen) -->
    <div class="tecnica-imagen" *ngIf="tecnicaActualImagen">
      <img [src]="tecnicaActualImagen" alt="Infograf√≠a de t√©cnica" (click)="abrirImagenFullscreen()">
    </div>

    <div class="contenido-wrapper">
      <div class="texto-contenido" [innerHTML]="tecnicaActual.detalles"></div>
    </div>

    <div class="navegacion" *ngIf="tecnicasEstilo.length > 1">
      <h3 class="tecnica-label">
        T√©cnica {{ indiceActual + 1 }} de {{ tecnicasEstilo.length }}
      </h3>

      <div class="progress-dots">
        <div
          *ngFor="let tecnica of tecnicasEstilo; let i = index"
          class="dot"
          [class.active]="i === indiceActual"
          [class.completed]="i < indiceActual"
          (click)="seleccionarTecnica(i)"
          [title]="tecnica.titulo">
        </div>
      </div>

      <div class="botones-nav">
        <button
          class="btn-nav"
          (click)="anterior()"
          [disabled]="indiceActual === 0">
          ‚Üê Anterior
        </button>
        <button
          class="btn-nav btn-siguiente"
          (click)="siguiente()"
          [disabled]="indiceActual === tecnicasEstilo.length - 1">
          Siguiente ‚Üí
        </button>
      </div>
    </div>
  </main>
</div>

<!-- üñº Modal de imagen Full HD -->
<div class="fullscreen-modal" *ngIf="fullscreenImage" (click)="cerrarFullscreen()">
  <img [src]="fullscreenImage" alt="Imagen Fullscreen">
</div>
